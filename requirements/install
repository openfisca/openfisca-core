# Please make sure to cap all dependency versions, in order to avoid unwanted
# functional and integration breaks caused by external code updates.
#
# These dependencies are always installed, so:
#
# * the ranges should be broad, and
# * the number of them kept low.
#
# If a dependency seems redundant, please propose a pull request to remove it.
#
# General Rule
# ============
#
# * Cap to latest major.
#
# Exceptions
# ==========
#
# * Avoiding a version (document why).
# * Pinning a version (document why).

# For globbing over dictionaries as if they were filesystems.
#
# We support from 1.3.2 on because it is the first version published
# following the semantic versioning specification.
#
# We do not support 2 yet because of a bug introduced to period parsing in
# OpenFisca's Web API: https://github.com/openfisca/openfisca-core/pull/948
dpath >= 1.3.2, < 2

# For evaluating numerical expressions
#
# We support numexpr >= 2.7.1 because it is the first version compatible with
# Python 3.7.
numexpr >= 2.7.1, < 3

# For vectorial support
#
# We support the latest four minors because NumPy is generally a transitive
# dependency that users rely on within the projects where OpenFisca is
# depended on by.
numpy >= 1.17, < 1.21

# Memory monitoring for caching.
#
# We support psutil >= 5.4.7 because it is the first version compatible with
# Python 3.7.
psutil >= 5.4.7, < 6

# For openfisca test
#
# We support pytest >= 5.4.2 because `openfisca test` relies on the signature of
# `pytest.Item.from_module()` introduced since 5.4.2.
#
# We do not support 6 yet because it requires fixing some tests before.
# See: https://docs.pytest.org/en/stable/deprecations.html#node-construction-changed-to-node-from-parent
pytest >= 5.4.2, < 6

# For parameters and tests parsing.
PyYAML >= 5.1, < 6

# For sorting formulas by period.
sortedcontainers >= 2, < 3
